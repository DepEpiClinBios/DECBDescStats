---
title: "Estad√≠stica descriptiva para variables cualitativas"
output:
  learnr::tutorial:
    start_over_button: true
    progressive: true
    allow_skip: true
    df_print: default
runtime: shiny_prerendered
description: >
  Este modulo contiene los conceptos b√°sico para estimar estad√≠stica descriptiva y gr√°ficos estad√≠sticos para variables cualitativas en R.
editor_options: 
  markdown: 
    wrap: 72
---

<style>
blockquote {
  font-size: 1em; /* igual al cuerpo normal */
}
</style>

```{r setup, include=FALSE}
# Attach packages:

library(learnr)
library(fontawesome)
library(ggplot2)
#gradethis::gradethis_setup()
#tutorial_options(exercise.timelimit = 60)

# Global code chunk settings:
knitr::opts_chunk$set(echo = FALSE)

# data

```

::: {style="margin-top: 0.5cm;"}
:::

---

```{r banner, echo=FALSE, results='asis'}
htmltools::HTML("
  <div style='
    text-align: center;
    margin-bottom: 20px;
  '>
    <img src='images/banner_central.png' style='
      max-width: 100%;
      height: auto;
    '>
  </div>
")
```

```{r, echo=FALSE, results='asis'}
htmltools::tags$style(HTML("
  h1 {
    color: #1e90ff; /* Azul para t√≠tulos principales */
  }

  h2 {
    color: #007bff; /* Azul brillante para subt√≠tulos */
  }

  h3 {
    color: #0056b3; /* Azul m√°s oscuro para subt√≠tulos m√°s peque√±os */
  }
"))
```

---


## 1. Introducci√≥n


```{r, echo=FALSE, out.width="100%", fig.align = "center"}
knitr::include_graphics("images/banner1b.png")  
```

<div class="alert alert-info" role="alert">
Este tutorial interactivo le permitir√° aplicar los conceptos fundamentales de la <strong> estad√≠stica descriptiva para variables cualitativas </strong> mediante la ejecuci√≥n de c√≥digo en R. A trav√©s de ejemplos guiados y ejercicios pr√°cticos, usted desarrollar√° habilidades para calcular e interpretar medidas de resumen tales como frecuencias absolutas, relativas y porcentajes, as√≠ como para visualizar esta informaci√≥n de manera efectiva. Estas herramientas son esenciales para describir y comprender el comportamiento de este tipo de variables en investigaciones cl√≠nicas y epidemiol√≥gicas.
</div>

::: {style="margin-top: 1cm;"}
:::

### ¬øQu√© aprender√° en esta actividad?

::: {style="margin-top: 0.5cm;"}
:::

En este taller, usted pondr√° en pr√°ctica los siguientes conceptos b√°sicos para el an√°lisis de variables cualitativas:

 - Elaboraci√≥n de tablas de frecuencias absolutas, relativas, porcentuales y acumuladas.

 - Construcci√≥n de tablas de contingencia para analizar la asociaci√≥n entre dos variables cualitativas.

 - C√°lculo de la moda en variables cualitativas.

 - Creaci√≥n de gr√°ficos estad√≠sticos adecuados para variables cualitativas, como gr√°ficos de barras y gr√°ficos de sectores (pastel).

::: {style="margin-top: 1cm;"}
:::

<h3>Cr√©ditos</h3>

<p><strong>Autor:</strong> Mart√≠n A. Rond√≥n S.</p>
<p><strong>Afiliaci√≥n:</strong> Profesor Asociado. Departamento de Epidemiolog√≠a Cl√≠nica y Bioestad√≠stica, Facultad de Medicina. Pontificia Universidad Javeriana</p>
<p><strong>Contacto:</strong> <a href="mailto:martin.rondon@javeriana.edu.co">martin.rondon@javeriana.edu.co</a></p>

<p>Este tutorial ha sido desarrollado como parte del curso de <em>Introducci√≥n a la Bioestad√≠stica en la Maestr√≠a en Epidemiolog√≠a Cl√≠nica</em>.</p>


<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" alt="Licencia de Creative Commons" style="border-width:0"/></a><br />

::: {style="margin-top: 0.5cm;"}
:::

Esta obra est√° bajo una <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">licencia de Creative Commons Reconocimiento-No Comercial-Compartir Igual 4.0 Internacional</a>.


::: {style="margin-top: 0.5cm;"}
:::

## 1 Descripci√≥n del taller

::: {style="margin-top: 0.5cm;"}
:::

En el an√°lisis de datos, comprender c√≥mo se distribuyen y var√≠an los
valores de variables cualitativas es fundamental para tomar decisiones
informadas y s√≥lidas. En este taller interactivo, exploraremos los
conceptos b√°sicos de la estad√≠stica descriptiva aplicados a variables
cualitativas, utilizando el entorno de programaci√≥n **R**.

::: {style="margin-top: 0.5cm;"}
:::

Nos enfocaremos en dos grandes ejes del an√°lisis descriptivo:

::: {style="margin-top: 0.5cm;"}
:::

-   **Medidas num√©ricas para datos cualitativos**, que nos permiten
    sintetizar la informaci√≥n sobre la distribuci√≥n de las categor√≠as.
    Estas incluyen:
    
    
    -   Medidas de frecuencia, tales como:

        -   Frecuencias absolutas 
        -   Frecuencias relativas 
        -   Porcentajes 
        -   Frecuencias acumuladas de las tres anteriores
        -   La moda
    
    -   Tablas de frecuencia 

    -   Tablas de asociaci√≥n 
   

::: {style="margin-top: 0.5cm;"}
:::

-   **Visualizaci√≥n gr√°fica de variables cualitativas**, una herramienta
    poderosa para explorar y entender la distribuci√≥n de las variables seg√∫n sus
    categor√≠as. Trabajaremos con:

    -   Gr√°ficos de barras simples y agrupados.

    -   Gr√°ficos de sectores (pasteles)


::: {style="margin-top: 1cm;"}
:::

#### **A lo largo del taller, usted podr√°:**

::: {style="margin-top: 0.5cm;"}
:::

-   Calcular e interpretar estas diferentes medidas manualmente o utilizando R.
-   Relacionar los valores num√©ricos de las frecuencias con sus representaciones gr√°ficas.
-   Aplicar los conceptos a conjuntos de datos reales mediante ejercicios interactivos.

::: {style="margin-top: 0.5cm;"}
:::

Este taller tiene como objetivo introducir el an√°lisis de datos
empleando el programa estad√≠stico [R](https://cran.r-project.org/).

::: {style="margin-top: 1cm;"}
:::

#### **¬øC√≥mo desarrollar este tutorial?**

::: {style="margin-top: 0.5cm;"}
:::

A lo largo del tutorial, encontrar√° ejemplos de c√≥digo, ejercicios de
programaci√≥n y preguntas de an√°lisis. Los ejemplos de c√≥digo y los
ejercicios pretenden introducir habilidades b√°sicas de R. No es
necesario tener conocimientos previos sobre R para el desarrollo de este
tutorial.

::: {style="margin-top: 0.5cm;"}
:::

#### `r fa("lightbulb", fill = "orange",  height="1em", width="1em")` = Ejemplo de c√≥digo

::: {style="margin-top: 0.5cm;"}
:::

Este √≠cono identifica ejemplos de c√≥digo listos para usar. Es posible
explorar, ejecutar y modificar este c√≥digo para comprender el
funcionamiento de cada funci√≥n o comando. Para ejecutar el c√≥digo, solo
es necesario presionar el bot√≥n **Run code** en la esquina superior
derecha.

::: {style="margin-top: 0.5cm;"}
:::

```{r, echo=FALSE, out.width="50%", fig.align = "center"}
knitr::include_graphics("images/ejemplo.png")  
```


> **No es necesario preocuparse por ‚Äúda√±ar‚Äù el c√≥digo:** si se realizan
> modificaciones que generan errores, el ejemplo original puede
> restaurarse en cualquier momento mediante el bot√≥n **Start Over** en
> la esquina superior izquierda.

::: {style="margin-top: 0.5cm;"}
:::

#### `r fa("pencil-alt", fill = "green", height="1em", width="1em")` = Ejercicio de c√≥digo

::: {style="margin-top: 0.5cm;"}
:::

Los ejercicios est√°n dise√±ados para aplicar lo aprendido, escribiendo el
c√≥digo necesario para resolver las preguntas o problemas planteados.


> **Si siente que se ha quedado sin ideas o no sabe c√≥mo continuar con
> el ejercicio:** puede consultar el bot√≥n **Solution** (soluci√≥n) para recibir orientaci√≥n sin perder la oportunidad de
> aprender activamente.

::: {style="margin-top: 0.5cm;"}
:::

```{r, echo=FALSE, out.width="50%", fig.align = "center"}
knitr::include_graphics("images/ejercicio.png")  
```

::: {style="margin-top: 0.5cm;"}
:::

#### `r fa("comments", fill = "#2c5697", height="1em", width="1em")` = Preguntas de an√°lisis

::: {style="margin-top: 0.5cm;"}
:::

Estas preguntas invitan a reflexionar sobre los resultados y conceptos.
Algunas no poseen una √∫nica respuesta correcta, sino que buscan fomentar
el pensamiento cr√≠tico.

::: {style="margin-top: 0.5cm;"}
:::

Con frecuencia, estas preguntas est√°n vinculadas con un ejemplo o
ejercicio de c√≥digo. En esos casos, aseg√∫rese de ejecutar el c√≥digo
correspondiente para poder ver la salida necesaria que le ayudar√° a
responder las preguntas.

::: {style="margin-top: 0.5cm;"}
:::

## 2. Medidas de Resumen

::: {style="margin-top: 0.5cm;"}
:::

Las medidas de medidas de resumen en variables cualitativas corresponden
a valores num√©ricos que buscan representar en un √∫nico n√∫mero un
conjunto de datos. Estas medidas son fundamentales para resumir y
comprender la informaci√≥n contenida en los datos donde las categor√≠as
pueden ser nominales u ordinales. Las m√°s comunes son:

::: {style="margin-top: 0.5cm;"}
:::

-   **Frecuencias absolutas**: el n√∫mero de veces que aparece cada
    categor√≠a en el conjunto de datos.
-   **Frecuencias relativas o proporciones**: la proporci√≥n de veces que
    aparece cada categor√≠a en relaci√≥n al total de observaciones.
-   **Porcentajes**: la frecuencia relativa expresada en porcentaje, que
    facilita la interpretaci√≥n de la proporci√≥n de cada categor√≠a
    respecto al total.
-   **Frecuencias acumuladas**: la suma de las frecuencias absolutas,
    relativas o porcentajes hasta una categor√≠a espec√≠fica, que muestra
    c√≥mo se acumulan las observaciones, las proporciones o los
    porcentajes a medida que avanzamos por las categor√≠as.
-   **Moda**: la categor√≠a que aparece con mayor frecuencia en el
    conjunto de datos.

::: {style="margin-top: 0.5cm;"}
:::

## 2.1 Frecuencias Absolutas

::: {style="margin-top: 0.5cm;"}
:::

Las frecuencias absolutas corresponden a el n√∫mero de veces que aparece
cada categor√≠a en un conjunto de datos y nos permiten entender la
distribuci√≥n de las categor√≠as de manera descriptiva. Veamos el
siguiente ejemplo para ilustrar c√≥mo calcular las frecuencias absolutas.

::: {style="margin-top: 1cm;"}
:::

##### `r fa("lightbulb", fill = "orange")` Ejemplo 1

::: {style="margin-top: 0.5cm;"}
:::

El siguiente conjunto de datos representa el estado civil de 20
pacientes en una cl√≠nica:

::: {style="margin-top: 0.5cm;"}
:::

["Soltero", "Casado", "Divorciado", "Soltero", "Casado", "Viudo",
"Soltero", "Casado", "Soltero", "Divorciado", "Casado", "Soltero",
"Viudo", "Casado", "Soltero", "Soltero", "Casado", "Divorciado",
"Soltero", "Casado"]{style="color:blue; font-weight:bold;"}

::: {style="margin-top: 0.5cm;"}
:::

Para calcular las frecuencias absolutas del estado civil de los
pacientes, simplemente contamos cuantas veces se repite cada categor√≠a.

En este caso en particular, vemos que las categor√≠as son "Soltero",
"Casado", "Divorciado" y "Viudo". Al contar encontramos que Soltero
aparece 8 veces, Casado 7 veces, Divorciado 3 veces y Viudo 2 veces.
Estas corresponden a las frecuencias absolutas y significa que la
categor√≠a "Soltero" es la m√°s frecuente.

::: {style="margin-top: 0.5cm;"}
:::

En casos en los cuales el tama√±o de la muestra empieza a aumentar, ya se
hace m√°s dispendioso contar manualmente las frecuencias absolutas. Por
lo tanto, es recomendable utilizar herramientas de programaci√≥n para
realizar este c√°lculo de manera eficiente. Para calcular las frecuencias
absolutas en R, podemos usar la funci√≥n `table()`, que crea una tabla de
frecuencias absolutas a partir de un vector de datos.

::: {style="margin-top: 1cm;"}
:::

Ejecute el siguiente c√≥digo 

```{r fa2, exercise = TRUE}

# Primero, cree un vector con los datos
estado_civil <- c("Soltero", "Casado", "Divorciado", "Soltero", "Casado", "Viudo", "Soltero", "Casado", "Soltero", "Divorciado", "Casado", "Soltero", "Viudo", "Casado", "Soltero", "Soltero", "Casado", "Divorciado", "Soltero", "Casado")

# Luego, calcule las frecuencias absolutas
tabla1 <- table(estado_civil)

# Imprima la tabla de frecuencias absolutas
print(tabla1)
```

::: {style="margin-top: 1cm;"}
:::

## **Interpretaci√≥n de las frecuencias absolutas**

::: {style="margin-top: 0.5cm;"}
:::

```{r fa2b, echo=FALSE}

# Primero, cree un vector con los datos
estado_civil <- c("Soltero", "Casado", "Divorciado", "Soltero", "Casado", "Viudo", "Soltero", "Casado", "Soltero", "Divorciado", "Casado", "Soltero", "Viudo", "Casado", "Soltero", "Soltero", "Casado", "Divorciado", "Soltero", "Casado")

# Luego, calcule las frecuencias absolutas
tabla1 <- table(estado_civil)

# Imprima la tabla de frecuencias absolutas
print(tabla1)
```

::: {style="margin-top: 0.5cm;"}
:::

Las frecuencias absolutas nos indican que la categor√≠a "Soltero" tiene la mayor frecuencia absoluta con 8 pacientes, seguida por "Casado" con 7 pacientes, "Divorciado" con 3 pacientes y "Viudo" con 2 pacientes.



## 2.2 Frecuencias Relativas

::: {style="margin-top: 0.5cm;"}
:::

Las frecuencias relativas permiten comprender c√≥mo se distribuyen las categor√≠as dentro de un conjunto de datos. Son especialmente √∫tiles para comparar proporciones entre diferentes grupos o muestras de distintos tama√±os, ya que estandarizan la informaci√≥n en relaci√≥n con el total.


::: {style="margin-top: 0.5cm;"}
:::

##### `r fa("lightbulb", fill = "orange")` Ejemplo 2

Calcule las frecuencias relativas del estado civil de los pacientes. Para el caso de los solteros, la proporci√≥n se calcula como el n√∫mero de solteros dividido por el total de pacientes. En este caso, la proporci√≥n es de 8/20 = 0.40

::: {style="margin-top: 0.5cm;"}
:::

En R, podemos calcular las frecuencias relativas utilizando la funci√≥n `prop.table()`, que convierte las frecuencias absolutas en proporciones. Esta funci√≥n toma como entrada una tabla de frecuencias absolutas y devuelve una tabla de frecuencias relativas.

::: {style="margin-top: 0.5cm;"}
:::

Ejecute el siguiente codigo

```{r fa3, exercise = TRUE}
# Primero, cree un vector con los datos del estado civil
estado_civil <- c("Soltero", "Casado", "Divorciado", "Soltero", "Casado", "Viudo", "Soltero", "Casado", "Soltero", "Divorciado", "Casado", "Soltero", "Viudo", "Casado", "Soltero", "Soltero", "Casado", "Divorciado", "Soltero", "Casado")

# Luego, construya una tabla de frecuencias absolutas
frec_absolutas <- table(estado_civil)

# Calcule las frecuencias relativas (proporciones)
frec_relativas <- prop.table(frec_absolutas)

# Imprima las frecuencias relativas
print(frec_relativas)
```

## Interpretaci√≥n de las frecuencias relativas

```{r fa3b, echo=FALSE}
# Primero, cree un vector con los datos del estado civil
estado_civil <- c("Soltero", "Casado", "Divorciado", "Soltero", "Casado", "Viudo", "Soltero", "Casado", "Soltero", "Divorciado", "Casado", "Soltero", "Viudo", "Casado", "Soltero", "Soltero", "Casado", "Divorciado", "Soltero", "Casado")

# Luego, construya una tabla de frecuencias absolutas
frec_absolutas <- table(estado_civil)

# Calcule las frecuencias relativas (proporciones)
frec_relativas <- prop.table(frec_absolutas)

# Imprima las frecuencias relativas
print(frec_relativas)
```

::: {style="margin-top: 0.5cm;"}
:::

Al revisar las frecuencias relativas encontramos que 0.40 de las personas eran "Solteros", seguida con una proporci√≥n de 0.35 de "Casados".

::: {style="margin-top: 0.5cm;"}
:::

---
‚ö†Ô∏è **Importante:** Para comparar distribuciones entre grupos con diferentes tama√±os de muestra, se deben utilizar las frecuencias relativas.
---


::: {style="margin-top: 0.5cm;"}
:::



## `r fa("pencil-alt", fill = "green")` Ejercicio 1

::: {style="margin-top: 0.5cm;"}
:::

Se registraron los diagn√≥sticos de hospitalizaci√≥n üè• 25 pacientes:

["Neumon√≠a", "Gripe", "Apendicitis", "Neumon√≠a", "Gripe",
"Gastroenteritis", "Neumon√≠a", "Gripe", "Neumon√≠a", "Apendicitis",
"Gripe", "Neumon√≠a", "Gastroenteritis", "Gripe", "Neumon√≠a", "Neumon√≠a",
"Gripe", "Apendicitis", "Neumon√≠a",
"Gripe"]{style="color:orange; font-weight:bold;"}

::: {style="margin-top: 0.5cm;"}
:::

Calcule las frecuencias absolutas y relativas de los diagn√≥sticos de
hospitalizaci√≥n.

::: {style="margin-top: 0.5cm;"}
:::

‚úçÔ∏è Es su turno! Emplee el siguiente chunk (bloque) para escribir el
c√≥digo de R. Tenga presente que tiene la opci√≥n de ver la soluci√≥n
(¬°pero aseg√∫rese de intentar resolverla manualmente primero!)

::: {style="margin-top: 1cm;"}
:::

```{r mean_ej1, exercise = TRUE}
# Primero, cree un vector con los datos de los diagn√≥sticos de hospitalizaci√≥n (llamelo diag)


# Luego, calcule las frecuencias absolutas


# Imprima la tabla de frecuencias absolutas


# Calcule las frecuencias relativas (proporciones)


# Imprima las frecuencias relativas


```

```{r mean_ej1-solution}
# Primero, cree un vector con los datos de los diagn√≥sticos de hospitalizaci√≥n
diag <- c("Neumon√≠a", "Gripe", "Apendicitis", "Neumon√≠a", "Gripe", "Gastroenteritis", "Neumon√≠a", "Gripe", "Neumon√≠a", 
                  "Apendicitis", "Gripe", "Neumon√≠a", "Gastroenteritis", "Gripe", "Neumon√≠a", "Neumon√≠a", "Gripe", "Apendicitis", 
                  "Neumon√≠a", "Gripe")

# Luego, calcule las frecuencias absolutas
frec_absolutas <- table(diag)

# Imprima la tabla de frecuencias absolutas
print(frec_absolutas)

# Calcule las frecuencias relativas (proporciones)
frec_relativas <- prop.table(frec_absolutas)

# Imprima las frecuencias relativas
print(frec_relativas)
```

::: {style="margin-top: 1cm;"}
:::

#### `r fa("comments", fill = "#2c5697", height="1em", width="1em")` Seg√∫n los resultados obtenidos responda:

::: {style="margin-top: 0.5cm;"}
:::

```{r question-frec1, echo=FALSE, warning=FALSE, message=FALSE}

library(learnr)
library(dplyr)

question(
  "Los diagn√≥sticos de hospitalizaci√≥n m√°s frecuentes fueron:",
    answer("Apendicitis y Gastroenteritis"),
    answer("Neumon√≠a y  Gripe", correct = TRUE),
    answer("Apendicitis y Gripe"),
    answer("Neumon√≠a y Gastroenteritis"),  
  allow_retry = TRUE
)
```

::: {style="margin-top: 0.5cm;"}
:::

```{r question-frec2, echo=FALSE, warning=FALSE, message=FALSE}
question(
  "Cual de las siguientes afirmaciones es falsa:",
    answer("El 0.15 de los pacientes fueron diagnosticados con Apendicitis"),
    answer("El 0.20 de los pacientes fueron diagnosticados con Gripe", correct = TRUE),
    answer("El 0.40 de los pacientes fueron diagnosticados con Neumon√≠a"),
    answer("El 0.10 de los pacientes fueron diagnosticados con Gastroenteritis"),
  allow_retry = TRUE
)
```



::: {style="margin-top: 0.5cm;"}
:::


## 2.3 Porcentajes

::: {style="margin-top: 0.5cm;"}
:::

Los porcentajes son una forma de expresar las frecuencias relativas en
t√©rminos porcentuales, lo que facilita la interpretaci√≥n de la
proporci√≥n de cada categor√≠a respecto al total. Los porcentajes se
calculan multiplicando las frecuencias relativas por 100.

::: {style="margin-top: 0.5cm;"}
:::

##### `r fa("lightbulb", fill = "orange")` Ejemplo 3

::: {style="margin-top: 0.5cm;"}
:::

Calcule los porcentajes del estado civil de los pacientes. En el caso de los solteros, el porcentaje se calcula como la frecuencia relativa de solteros multiplicada por 100. En este caso, el porcentaje de solteros es 0.40 * 100 = 40%.

En R usamos nuevamente la funci√≥n `prop.table()` y la multiplicamos por 100 para obtener los porcentajes.

Ejecute el siguiente c√≥digo

```{r percentage_ex1, exercise = TRUE}
# Primero, cree un vector con los datos del estado civil
estado_civil <- c("Soltero", "Casado", "Divorciado", "Soltero", "Casado", "Viudo", "Soltero", "Casado", "Soltero", 
                   "Divorciado", "Casado", "Soltero", "Viudo", "Casado", "Soltero", "Soltero", "Casado", 
                   "Divorciado", "Soltero", "Casado")
# Luego, calcule las frecuencias absolutas
frec_absolutas <- table(estado_civil)
# Calcule los porcentajes
porcentajes <- prop.table(frec_absolutas) * 100
# Imprima los porcentajes
print(porcentajes)
```

::: {style="margin-top: 0.5cm;"}
:::

## Interpretaci√≥n de los porcentajes

::: {style="margin-top: 0.5cm;"}
:::

```{r percentage_ex1b, echo=FALSE}
# Primero, cree un vector con los datos del estado civil
estado_civil <- c("Soltero", "Casado", "Divorciado", "Soltero", "Casado", "Viudo", "Soltero", "Casado", "Soltero", 
                   "Divorciado", "Casado", "Soltero", "Viudo", "Casado", "Soltero", "Soltero", "Casado", 
                   "Divorciado", "Soltero", "Casado")
# Luego, calcule las frecuencias absolutas
frec_absolutas <- table(estado_civil)
# Calcule los porcentajes
porcentajes <- prop.table(frec_absolutas) * 100
# Imprima los porcentajes
print(porcentajes)
```

::: {style="margin-top: 0.5cm;"}
:::

Los porcentajes nos indican que el 40% de los pacientes son solteros, el
35% son casados, el 15% son divorciados y el 10% son viudos. Esto nos
permite entender la proporci√≥n de cada categor√≠a respecto al total de
pacientes.

::: {style="margin-top: 0.5cm;"}
:::

## 2.4 Frecuencias acumuladas

::: {style="margin-top: 0.5cm;"}
:::

Las frecuencias acumuladas pueden ser de las frecuencias absolutas, de las frecuencias relativas o de los porcentajes y corresponde a la suma de las frecuencias hasta una categor√≠a espec√≠fica. Estas frecuencias nos permiten observar c√≥mo se acumulan las observaciones a medida que avanzamos por las categor√≠as.

::: {style="margin-top: 1cm;"}
:::

##### `r fa("lightbulb", fill = "orange")` Ejemplo 4

::: {style="margin-top: 0.5cm;"}
:::

Calcule las frecuencias absolutas acumuladas del estado civil de los pacientes. Para ello, use la funci√≥n `cumsum()` para calcular la suma acumulada de las frecuencias absolutas.

::: {style="margin-top: 0.5cm;"}
:::

```{r fa4, exercise = TRUE}
# Primero, cree un vector con los datos del estado civil
estado_civil <- c("Soltero", "Casado", "Divorciado", "Soltero", "Casado", "Viudo", "Soltero", "Casado", "Soltero", "Divorciado", "Casado", "Soltero", "Viudo", "Casado", "Soltero", "Soltero", "Casado", "Divorciado", "Soltero", "Casado")

# Luego, construya una tabla de frecuencias absolutas
frec_absolutas <- table(estado_civil)

# Calcule las frecuencias acumuladas absolutas
frec_acumuladas_absolutas <- cumsum(frec_absolutas)

# Imprima las frecuencias acumuladas absolutas
print(frec_acumuladas_absolutas)
```

::: {style="margin-top: 0.5cm;"}
:::

## Interpretaci√≥n de las frecuencias absolutas acumuladas

::: {style="margin-top: 0.5cm;"}
:::

```{r fa4b, echo=FALSE}
# Primero, cree un vector con los datos del estado civil
estado_civil <- c("Soltero", "Casado", "Divorciado", "Soltero", "Casado", "Viudo", "Soltero", "Casado", "Soltero", "Divorciado", 
                  "Casado", "Soltero", "Viudo", "Casado", "Soltero", "Soltero", "Casado", "Divorciado", "Soltero", "Casado")

# Luego, construya una tabla de frecuencias absolutas
frec_absolutas <- table(estado_civil)

# Calcule las frecuencias acumuladas absolutas
frec_acumuladas_absolutas <- cumsum(frec_absolutas)

# Imprima las frecuencias acumuladas absolutas
print(frec_acumuladas_absolutas)
```

::: {style="margin-top: 0.5cm;"}
:::

Podemos observar que la frecuencia absoluta acumulada de "Soltero" es 8, lo que significa que hay 8 pacientes solteros hasta esa categor√≠a. La frecuencia acumulada hasta "Casado" es 15, lo que indica que hay 15 pacientes solteros o casados hasta esa categor√≠a.

::: {style="margin-top: 0.5cm;"}
:::

En el caso de las frecuencias relativas acumuladas , estas nos indican la proporci√≥n acumulada de cada categor√≠a respecto al total de observaciones.

::: {style="margin-top: 0.5cm;"}
:::

## `r fa("lightbulb", fill = "orange")` Ejemplo 5

::: {style="margin-top: 0.5cm;"}
:::

Calcule las frecuencias relativas acumuladas del estado civil de los pacientes. Para ello, use la funci√≥n `cumsum()` sobre las frecuencias relativas.

::: {style="margin-top: 0.5cm;"}
:::

```{r fa5, exercise = TRUE}

estado_civil <- c("Soltero", "Casado", "Divorciado", "Soltero", "Casado", "Viudo", "Soltero", "Casado", "Soltero", "Divorciado", "Casado", "Soltero", "Viudo", "Casado", "Soltero", "Soltero", "Casado", "Divorciado", "Soltero", "Casado")

# tomamos el vector de frecuencias relativas del ejemplo anterior
frec_relativas <- prop.table(table(estado_civil))

# Calcule las frecuencias acumuladas relativas
frec_rel_acum <- cumsum(frec_relativas)

# Imprima las frecuencias acumuladas relativas
print(frec_rel_acum)
```

::: {style="margin-top: 0.5cm;"}
:::

## Interpretaci√≥n de las frecuencias relativas acumuladas


```{r fa5b, echo = FALSE}

estado_civil <- c("Soltero", "Casado", "Divorciado", "Soltero", "Casado", "Viudo", "Soltero", "Casado", "Soltero", "Divorciado", "Casado", "Soltero", "Viudo", "Casado", "Soltero", "Soltero", "Casado", "Divorciado", "Soltero", "Casado")

# tomamos el vector de frecuencias relativas del ejemplo anterior
frec_relativas <- prop.table(table(estado_civil))

# Calcule las frecuencias acumuladas relativas
frec_rel_acum <- cumsum(frec_relativas)

# Imprima las frecuencias acumuladas relativas
print(frec_rel_acum)
```

::: {style="margin-top: 0.5cm;"}
:::

::: {style="margin-top: 0.5cm;"}
:::

Las frecuencias relativas acumuladas  nos indican que el 40% de los pacientes son solteros, el 75% son solteros o casados, y el 85% son solteros, casados o divorciados. Esto nos permite entender c√≥mo se distribuyen las categor√≠as a medida que avanzamos por ellas.

::: {style="margin-top: 0.5cm;"}
:::

Nota: Este tipo de frecuencias es especialmente √∫til con variables ordinales, donde el orden de las categor√≠as es importante, como en escalas de satisfacci√≥n o niveles educativos.

::: {style="margin-top: 0.5cm;"}
:::

## `r fa("pencil-alt", fill = "green")` Ejercicio 2

::: {style="margin-top: 0.5cm;"}
:::

Tomemos como ejemplo el nivel educativo de 20 estudiantes:

::: {style="margin-top: 0.5cm;"}
:::

Vamos a considerar 3 categorias en este orden: Primaria, Secundaria, Universitaria:

::: {style="margin-top: 0.5cm;"}
:::

["Primaria", "Secundaria", "Secundaria", "Universitaria", "Primaria", "Universitaria", "Secundaria", "Primaria", "Universitaria", "Secundaria", "Universitaria", "Primaria", "Secundaria", "Universitaria", "Primaria", "Secundaria", "Universitaria", "Primaria", "Secundaria", "Secundaria"]{style="color:orange; font-weight:bold;"}

::: {style="margin-top: 0.5cm;"}
:::



Calcule las frecuencias absolutas, relativas, porcentajes y acumulados del nivel educativo de los estudiantes. Utilice las funciones `table()`,
`prop.table()` y `cumsum()`.

::: {style="margin-top: 0.5cm;"}
:::

```{r fa6, exercise = TRUE}

# Primero, cree un vector con los datos del nivel educativo


# Luego, calcule las frecuencias absolutas


# Imprima las frecuencias absolutas


# Calcule las frecuencias relativas


# Imprima las frecuencias relativas


# Calcule las frecuencias relativas


# Imprima las frecuencias relativas


# Calcule las frecuencias absolutas acumuladas 


# Imprima las frecuencias absolutas acumuladas 


# Calcule las frecuencias relativas acumuladas 


# Imprima las frecuencias relativas acumuladas 


# Calcule los porcentajes acumulados 


# Imprima los porcentajes acumulados 

```


::: {style="margin-top: 0.5cm;"}
:::

```{r fa6-solution}

# Primero, cree un vector con los datos del nivel educativo
nivel_educativo <- c("Primaria", "Secundaria", "Secundaria", "Universitaria", "Primaria", "Universitaria", 
                     "Secundaria", "Primaria", "Universitaria", "Secundaria", "Universitaria", 
                     "Primaria", "Secundaria", "Universitaria", "Primaria", "Secundaria", 
                     "Universitaria", "Primaria", "Secundaria", "Secundaria")

# Luego, calcule las frecuencias absolutas
frec_absolutas <- table(nivel_educativo)

# Imprima las frecuencias absolutas
print(frec_absolutas)

# Calcule las frecuencias relativas
frec_relativas <- prop.table(frec_absolutas)

# Imprima las frecuencias relativas
print(frec_relativas)

# Calcule las frecuencias acumuladas absolutas
frec_acumuladas_absolutas <- cumsum(frec_absolutas)

# Imprima las frecuencias acumuladas absolutas
print(frec_acumuladas_absolutas)

# Calcule las frecuencias acumuladas relativas
frec_acumuladas_relativas <- cumsum(frec_relativas)

# Imprima las frecuencias acumuladas relativas
print(frec_acumuladas_relativas)

```


::: {style="margin-top: 1cm;"}
:::

#### `r fa("comments", fill = "#2c5697", height="1em", width="1em")` Seg√∫n los resultados obtenidos responda:

::: {style="margin-top: 0.5cm;"}
:::

```{r question-frec3, echo=FALSE, warning=FALSE, message=FALSE}

library(learnr)
library(dplyr)

question(
  "El nivel educativo menos frecuente fue:",
    answer("Primaria", correct = TRUE),
    answer("Secundaria"),
    answer("Universitaria"),
  allow_retry = TRUE
)
```

::: {style="margin-top: 0.5cm;"}
:::

```{r question-frec4, echo=FALSE, warning=FALSE, message=FALSE}
question(
  "El nivel educativo m√°s frecuente fue:",
    answer("Primaria"),
    answer("Secundaria", correct = TRUE),
    answer("Universitaria"),
  allow_retry = TRUE
)
```

::: {style="margin-top: 0.5cm;"}
:::

```{r question-frec5, echo=FALSE, warning=FALSE, message=FALSE}
question(
  "La proporcion de personas con nivel educativo m√°ximo de secundaria fue:",
    answer("0.30"),
    answer("0.35"), 
    answer("0.65",correct = TRUE),
  allow_retry = TRUE
)
```



::: {style="margin-top: 0.5cm;"}
:::

## 2.5 Tablas de asociaci√≥n

::: {style="margin-top: 0.5cm;"}
:::

Las tablas de asociaci√≥n son una herramienta √∫til para explorar la
relaci√≥n entre dos variables cualitativas. Estas tablas nos permiten
observar c√≥mo se distribuyen las categor√≠as de una variable en funci√≥n
de las categor√≠as de otra variable.

::: {style="margin-top: 0.5cm;"}
:::

##### `r fa("lightbulb", fill = "orange")` Ejemplo 6

::: {style="margin-top: 0.5cm;"}
:::

Calcule una tabla de asociaci√≥n entre el estado civil y el g√©nero de los
pacientes. Para ello, use la funci√≥n `table()` para crear una tabla de
contingencia.

::: {style="margin-top: 0.5cm;"}
:::

```{r association_table_ex1, exercise = TRUE}
# Primero, cree un vector con los datos del estado civil
estado_civil <- c("Soltero", "Casado", "Divorciado", "Soltero", "Casado", "Viudo", "Soltero", "Casado", "Soltero", 
                   "Divorciado", "Casado", "Soltero", "Viudo", "Casado", "Soltero", "Soltero", "Casado", 
                   "Divorciado", "Soltero", "Casado")

# Luego, cree un vector con los datos del g√©nero
genero <- c("Masc", "Fem", "Masc", "Masc", "Fem", "Masc", "Fem", "Masc", "Fem", 
            "Masc", "Fem", "Masc", "Fem", "Masc", "Fem", "Masc", "Fem", 
            "Masc", "Fem", "Masc")

# Calcule la tabla de asociaci√≥n

tabla_asociacion <- table(estado_civil, genero)

# Imprima la tabla de asociaci√≥n
print(tabla_asociacion)
```

::: {style="margin-top: 0.5cm;"}
:::

## Interpretaci√≥n de la tabla de asociaci√≥n

::: {style="margin-top: 0.5cm;"}
:::

```{r association_table_ex1b, echo=FALSE}
# Primero, cree un vector con los datos del estado civil
estado_civil <- c("Soltero", "Casado", "Divorciado", "Soltero", "Casado", "Viudo", "Soltero", "Casado", "Soltero", 
                  "Divorciado", "Casado", "Soltero", "Viudo", "Casado", "Soltero", "Soltero", "Casado", 
                  "Divorciado", "Soltero", "Casado")

# Luego, cree un vector con los datos del g√©nero
genero <- c("Masc", "Fem", "Masc", "Masc", "Fem", "Masc", "Fem", "Masc", "Fem", 
            "Masc", "Fem", "Masc", "Fem", "Masc", "Fem", "Masc", "Fem", 
            "Masc", "Fem", "Masc")

# Calcule la tabla de asociaci√≥n
tabla_asociacion <- table(estado_civil, genero)

# Imprima la tabla de asociaci√≥n
print(tabla_asociacion)

# Crear la tabla de asociaci√≥n
tabla_asociacion <- table(estado_civil, genero)

# Localizar posiciones con la frecuencia m√°xima
pos_max <- which(tabla_asociacion == max(tabla_asociacion), arr.ind = TRUE)

# Crear una descripci√≥n de cada combinaci√≥n
categorias_max <- apply(pos_max, 1, function(i) {
  paste(rownames(tabla_asociacion)[i[1]], "y", colnames(tabla_asociacion)[i[2]])
})


```

::: {style="margin-top: 0.5cm;"}
:::

La tabla de asociaci√≥n nos permite observar c√≥mo se distribuyen los
pacientes seg√∫n su estado civil y g√©nero.

::: {style="margin-top: 0.5cm;"}
:::

La frecuencia m√°s alta es de `r max(tabla_asociacion)` pacientes,
correspondiente a la(s) combinaci√≥n(es):
`r paste(categorias_max, collapse = ", ")`.

::: {style="margin-top: 0.5cm;"}
:::

Esto sugiere que estas combinaciones son las m√°s comunes en la muestra.

::: {style="margin-top: 0.5cm;"}
:::

## 2.6 Moda

::: {style="margin-top: 0.5cm;"}
:::

En el caso de variables cualitativas, la moda es la categor√≠a que
aparece con mayor frecuencia en el conjunto de datos.

::: {style="margin-top: 0.5cm;"}
:::

Retomando el problema de diagn√≥stico de hospitalizaci√≥n de los 25
pacientes, revisado en los ejercicios anteriores:

::: {style="margin-top: 0.5cm;"}
:::

##### `r fa("lightbulb", fill = "orange")` Ejemplo 7

::: {style="margin-top: 0.5cm;"}
:::

Calcule la moda de los diagn√≥sticos de hospitalizaci√≥n. Para ello, use
la funci√≥n `table()` de R para contar las frecuencias de cada valor y
luego identifique la categor√≠a con la mayor frecuencia.

::: {style="margin-top: 0.5cm;"}
:::

```{r mode_ex1, exercise = TRUE}
diag <- c("Neumon√≠a", "Gripe", "Apendicitis", "Neumon√≠a", "Gripe", "Gastroenteritis", "Neumon√≠a", "Gripe", "Neumon√≠a", 
                  "Apendicitis", "Gripe", "Neumon√≠a", "Gastroenteritis", "Gripe", "Neumon√≠a", "Neumon√≠a", "Gripe", "Apendicitis", 
                  "Neumon√≠a", "Gripe")

# Luego, calcule las frecuencias absolutas
frec_absolutas <- table(diag)

# Imprima la tabla de frecuencias absolutas
print(frec_absolutas)

```

::: {style="margin-top: 0.5cm;"}
:::

## Interpretaci√≥n moda

::: {style="margin-top: 0.5cm;"}
:::

```{r mode_ex1b, echo=FALSE}
diag <- c("Neumon√≠a", "Gripe", "Apendicitis", "Neumon√≠a", "Gripe", "Gastroenteritis", "Neumon√≠a", "Gripe", "Neumon√≠a", 
                  "Apendicitis", "Gripe", "Neumon√≠a", "Gastroenteritis", "Gripe", "Neumon√≠a", "Neumon√≠a", "Gripe", "Apendicitis", 
                  "Neumon√≠a", "Gripe")
frec_absolutas <- table(diag)
frec_absolutas
```

::: {style="margin-top: 0.5cm;"}
:::

La categor√≠a m√°s habitual entre los pacientes es
`r names(which.max(table(diag)))`, ya que aparece `r max(table(diag))`
veces, m√°s que cualquier otra categor√≠a. Esto representa la moda de
nuestro conjunto de datos.

::: {style="margin-top: 0.5cm;"}
:::

## 3. Graficas de variables cualitativas

::: {style="margin-top: 0.5cm;"}
:::

Las gr√°ficas son una herramienta poderosa para visualizar la
distribuci√≥n de variables cualitativas. En R, existen varias funciones
para crear gr√°ficos que representan las frecuencias absolutas, relativas
y acumuladas de las categor√≠as.

::: {style="margin-top: 0.5cm;"}
:::

## 3.1 Gr√°ficos de Barras Simples y Agrupados

::: {style="margin-top: 0.5cm;"}
:::

Los gr√°ficos de barras son una representaci√≥n visual de las frecuencias
absolutas o relativas de las categor√≠as de una variable cualitativa.
Cada barra representa una categor√≠a, y la altura de la barra es
proporcional a la frecuencia de esa categor√≠a.

::: {style="margin-top: 0.5cm;"}
:::

### 3.1.1 Gr√°ficos de Barras Simples

::: {style="margin-top: 0.5cm;"}
:::

Los gr√°ficos de barras simples son ideales para mostrar la frecuencia de
cada categor√≠a de una variable cualitativa. Cada barra representa una
categor√≠a, y su altura es proporcional a la frecuencia absoluta o
relativa de esa categor√≠a.

::: {style="margin-top: 0.5cm;"}
:::

##### `r fa("lightbulb", fill = "orange")` Ejemplo 8

::: {style="margin-top: 0.5cm;"}
:::

Creemos un gr√°fico de barras para el estado civil de los pacientes.

::: {style="margin-top: 0.5cm;"}
:::

```{r barplot_ex1, exercise = TRUE, fig.height = 5, fig.width = 7}

# Primero, crea un vector con los datos del estado civil
estado_civil <- c("Soltero", "Casado", "Divorciado", "Soltero", "Casado", "Viudo", "Soltero", "Casado", "Soltero", "Divorciado", "Casado", "Soltero", "Viudo", "Casado", "Soltero", "Soltero", "Casado", "Divorciado", "Soltero", "Casado")

# Crea una tabla de frecuencias para los datos
frecuencias_ec <- table(estado_civil)

# Genera el gr√°fico de barras
barplot(frecuencias_ec,
        main = "Distribuci√≥n del Estado Civil de los Pacientes", # T√≠tulo del gr√°fico
        xlab = "Estado Civil", # Etiqueta del eje X
        ylab = "Frecuencia Absoluta", # Etiqueta del eje Y
        col = "skyblue", # Color de las barras
        cex.names = 0.8,   # Tama√±o de las etiquetas del eje X
        cex.axis = 0.8,    # Tama√±o de los valores del eje
        cex.lab = 0.8,     # Tama√±o de las etiquetas de los ejes
        cex.main = 0.9) 
```

::: {style="margin-top: 0.5cm;"}
:::

## Interpretaci√≥n del Gr√°fico de Barras

::: {style="margin-top: 0.5cm;"}
:::

```{r barplot_ex1b, fig.height = 5, fig.width = 6, echo=FALSE}

# Primero, crea un vector con los datos del estado civil
estado_civil <- c("Soltero", "Casado", "Divorciado", "Soltero", "Casado", "Viudo", "Soltero", "Casado", "Soltero", "Divorciado", "Casado", "Soltero", "Viudo", "Casado", "Soltero", "Soltero", "Casado", "Divorciado", "Soltero", "Casado")

# Crea una tabla de frecuencias para los datos
frecuencias_ec <- table(estado_civil)

# Genera el gr√°fico de barras
barplot(frecuencias_ec,
        main = "Distribuci√≥n del Estado Civil de los Pacientes", # T√≠tulo del gr√°fico
        xlab = "Estado Civil", # Etiqueta del eje X
        ylab = "Frecuencia Absoluta", # Etiqueta del eje Y
        col = "skyblue", # Color de las barras
         cex.names = 0.8,   # Tama√±o de las etiquetas del eje X
        cex.axis = 0.8,    # Tama√±o de los valores del eje
        cex.lab = 0.8,     # Tama√±o de las etiquetas de los ejes
        cex.main = 0.9) 
```

::: {style="margin-top: 0.5cm;"}
:::

El gr√°fico de barras nos permite ver r√°pidamente que la categor√≠a
"Soltero" es la m√°s frecuente, seguida de "Casado", "Divorciado" y
"Viudo". La altura de cada barra es directamente proporcional al n√∫mero
de pacientes en cada categor√≠a.

::: {style="margin-top: 0.5cm;"}
:::

### 3.1.2 Gr√°ficos de Barras Agrupados

::: {style="margin-top: 0.5cm;"}
:::

Los gr√°ficos de barras agrupados son √∫tiles cuando se desea comparar la
frecuencia de varias categor√≠as dentro de diferentes grupos. Cada grupo
tiene sus propias barras, lo que permite una comparaci√≥n visual clara
entre las categor√≠as.

::: {style="margin-top: 0.5cm;"}
:::

##### `r fa("lightbulb", fill = "orange")` Ejemplo 9

::: {style="margin-top: 0.5cm;"}
:::

Creemos un gr√°fico de barras agrupadas para comparar el estado civil de
los pacientes en dos grupos diferentes: hombres y mujeres.

::: {style="margin-top: 0.5cm;"}
:::

```{r barplot_grouped_ex1, exercise = TRUE, out.width="90%"}
# Primero, crea un vector con los datos del estado civil y el g√©nero
estado_civil <- c("Soltero", "Casado", "Divorciado", "Soltero", "Casado", "Viudo", "Soltero", "Casado", "Soltero", "Divorciado", "Casado", "Soltero", "Viudo", "Casado", "Soltero", "Soltero", "Casado", "Divorciado", "Soltero", "Casado")

genero <- c("Masc","Fem","Masc","Masc","Fem","Masc","Fem","Masc","Fem","Masc","Fem","Masc","Fem","Masc","Fem","Masc","Fem","Masc","Fem","Masc")

# Crea una tabla de frecuencias para los datos
frecuencias_ec <- table(estado_civil,genero)

barplot(frecuencias_ec,
        main = "Distribuci√≥n del estado civil de los pacientes seg√∫n el g√©nero",
        xlab = "Estado Civil",
        ylab = "Frecuencia Absoluta",
        col = c("blue","skyblue", "lightpink","red"),  # un color por g√©nero
        beside = TRUE,
        legend.text = rownames(frecuencias_ec),  # G√©neros
        args.legend = list(x = "topright", bty = "n", inset = c(-0.05, 0.5), cex=0.8),
        names.arg = colnames(frecuencias_ec),  # Estados civiles
        cex.names = 0.8,   # Tama√±o de las etiquetas del eje X
        cex.axis = 0.8,    # Tama√±o de los valores del eje
        cex.lab = 0.8,     # Tama√±o de las etiquetas de los ejes
        cex.main = 0.8) 

```

::: {style="margin-top: 0.5cm;"}
:::

## Interpretaci√≥n del Gr√°fico de Barras Agrupadas

::: {style="margin-top: 0.5cm;"}
:::

```{r barplot_grouped_ex1b,  out.width="90%", echo=FALSE}
# Primero, crea un vector con los datos del estado civil y el g√©nero
estado_civil <- c("Soltero", "Casado", "Divorciado", "Soltero", "Casado", "Viudo", "Soltero", "Casado", "Soltero", "Divorciado", "Casado", "Soltero", "Viudo", "Casado", "Soltero", "Soltero", "Casado", "Divorciado", "Soltero", "Casado")

genero <- c("Masc","Fem","Masc","Masc","Fem","Masc","Fem","Masc","Fem","Masc","Fem","Masc","Fem","Masc","Fem","Masc","Fem","Masc","Fem","Masc")

# Crea una tabla de frecuencias para los datos
frecuencias_ec <- table(estado_civil,genero)

barplot(frecuencias_ec,
        main = "Distribuci√≥n del estado civil de los pacientes seg√∫n el g√©nero",
        xlab = "Estado Civil",
        ylab = "Frecuencia Absoluta",
        col = c("blue","skyblue", "lightpink","red"),  # un color por g√©nero
        beside = TRUE,
        legend.text = rownames(frecuencias_ec),  # G√©neros
        args.legend = list(x = "topright", bty = "n", inset = c(-0.05, -0.15), cex=0.8),
        names.arg = colnames(frecuencias_ec),  # Estados civiles
        cex.names = 0.8,   # Tama√±o de las etiquetas del eje X
        cex.axis = 0.8,    # Tama√±o de los valores del eje
        cex.lab = 0.8,     # Tama√±o de las etiquetas de los ejes
        cex.main = 0.8) 
```

::: {style="margin-top: 0.5cm;"}
:::

El gr√°fico de barras agrupadas nos permite comparar la distribuci√≥n del
estado civil entre hombres y mujeres. Podemos observar que la mayor√≠a de
los pacientes son solteros, tanto hombres como mujeres, seguido de los
casados.

::: {style="margin-top: 0.5cm;"}
:::

## 3.2 Gr√°ficos de Sectores (Pasteles)

::: {style="margin-top: 0.5cm;"}
:::

Los gr√°ficos de sectores, tambi√©n conocidos como gr√°ficos de pastel, son
una representaci√≥n visual de las proporciones de las categor√≠as de una
variable cualitativa. Cada sector del pastel representa una categor√≠a, y
su tama√±o es proporcional a la frecuencia absoluta o relativa de esa
categor√≠a.

::: {style="margin-top: 0.5cm;"}
:::

##### `r fa("lightbulb", fill = "orange")` Ejemplo 10

::: {style="margin-top: 0.5cm;"}
:::

Creemos un gr√°fico de sectores para el estado civil de los pacientes.

::: {style="margin-top: 0.5cm;"}
:::

```{r pie_chart_ex1, exercise = TRUE, fig.height = 5, fig.width = 5}
# Primero, crea un vector con los datos del estado civil
estado_civil <- c("Soltero", "Casado", "Divorciado", "Soltero", "Casado", "Viudo", "Soltero", "Casado", "Soltero", "Divorciado", "Casado", "Soltero", "Viudo", "Casado", "Soltero", "Soltero", "Casado", "Divorciado", "Soltero", "Casado")

# Calcular frecuencias absolutas
frecuencias_ec <- table(estado_civil)

# Calcular porcentajes
porcentajes <- round(prop.table(frecuencias_ec) * 100, 1)

# Crear etiquetas con nombre y porcentaje
etiquetas <- paste(names(frecuencias_ec), ": ", porcentajes, "%", sep = "")

# Generar gr√°fico de sectores con etiquetas
pie(frecuencias_ec,
    labels = etiquetas,
    main = "Distribuci√≥n del Estado Civil de los Pacientes",
    col = c("skyblue", "lightgreen", "lightcoral", "lightyellow"))
```

::: {style="margin-top: 0.5cm;"}
:::

## Interpretaci√≥n del Gr√°fico de Sectores

::: {style="margin-top: 0.5cm;"}
:::

```{r pie_chart_ex1b, fig.height = 5, fig.width = 5, echo=FALSE}
# Primero, crea un vector con los datos del estado civil
estado_civil <- c("Soltero", "Casado", "Divorciado", "Soltero", "Casado", "Viudo", "Soltero", "Casado", "Soltero", "Divorciado", "Casado", "Soltero", "Viudo", "Casado", "Soltero", "Soltero", "Casado", "Divorciado", "Soltero", "Casado")

# Calcular frecuencias absolutas
frecuencias_ec <- table(estado_civil)

# Calcular porcentajes
porcentajes <- round(prop.table(frecuencias_ec) * 100, 1)

# Crear etiquetas con nombre y porcentaje
etiquetas <- paste(names(frecuencias_ec), ": ", porcentajes, "%", sep = "")

# Generar gr√°fico de sectores con etiquetas
pie(frecuencias_ec,
    labels = etiquetas,
    main = "Distribuci√≥n del Estado Civil de los Pacientes",
    col = c("skyblue", "lightgreen", "lightcoral", "lightyellow"))
```

::: {style="margin-top: 0.5cm;"}
:::

El gr√°fico de sectores nos permite ver la proporci√≥n de cada categor√≠a
en relaci√≥n al total. Podemos observar que la categor√≠a "Soltero"
representa una gran parte del total, mientras que "Viudo" es la menos
frecuente. Los gr√°ficos de sectores son √∫tiles para visualizar
proporciones, pero pueden ser menos efectivos que los gr√°ficos de barras
cuando hay muchas categor√≠as o cuando las diferencias entre las
frecuencias son peque√±as.

::: {style="margin-top: 0.5cm;"}
:::

## `r fa("pencil-alt", fill = "green")` Ejercicio 3

::: {style="margin-top: 0.5cm;"}
:::

Se registraron los diagn√≥sticos de hospitalizaci√≥n üè• 25 pacientes:

::: {style="margin-top: 0.5cm;"}
:::

["Neumon√≠a", "Gripe", "Apendicitis", "Neumon√≠a", "Gripe",
"Gastroenteritis", "Neumon√≠a", "Gripe", "Neumon√≠a", "Apendicitis",
"Gripe", "Neumon√≠a", "Gastroenteritis", "Gripe", "Neumon√≠a", "Neumon√≠a",
"Gripe", "Apendicitis", "Neumon√≠a",
"Gripe"]{style="color:orange; font-weight:bold;"}

::: {style="margin-top: 0.5cm;"}
:::

##### `r fa("pencil-alt", fill = "green")` Ejercicio 3.2

::: {style="margin-top: 0.5cm;"}
:::

Cree un gr√°fico de barras y un gr√°fico de sectores para los diagn√≥sticos
de hospitalizaci√≥n.

::: {style="margin-top: 0.5cm;"}
:::

‚úçÔ∏è Es su turno! Emplee el siguiente chunk (bloque) para escribir el
c√≥digo de R. Tenga presente que tiene la opci√≥n de ver la soluci√≥n
(¬°pero aseg√∫rese de intentar resolverla manualmente primero!)

::: {style="margin-top: 0.5cm;"}
:::

```{r pie_bar_ex1, exercise = TRUE, fig.height = 5, fig.width = 5}
# Primero, cree un vector con los datos de los diagn√≥sticos de hospitalizaci√≥n

# Luego, calcule las frecuencias absolutas

# Imprima la tabla de frecuencias absolutas

# Genera el gr√°fico de barras

# Genera el gr√°fico de sectores

```

::: {style="margin-top: 0.5cm;"}
:::

```{r pie_bar_ex1-solution, fig.height = 5, fig.width = 5}

# Primero, cree un vector con los datos de los diagn√≥sticos de hospitalizaci√≥n
diag <- c("Neumon√≠a", "Gripe", "Apendicitis", "Neumon√≠a", "Gripe", "Gastroenteritis", 
                  "Neumon√≠a", "Gripe", "Neumon√≠a", "Apendicitis", "Gripe", "Neumon√≠a", 
                  "Gastroenteritis", "Gripe", "Neumon√≠a", "Neumon√≠a", "Gripe", 
                  "Apendicitis", "Neumon√≠a", "Gripe")

# Luego, calcule las frecuencias absolutas
frec_absolutas <- table(diag)

# Imprima la tabla de frecuencias absolutas
print(frec_absolutas)

# Calcular porcentajes
porcentajes <- round(prop.table(frec_absolutas) * 100, 1)

# Crear etiquetas con nombre y porcentaje
etiquetas <- paste(names(frec_absolutas), ": ", porcentajes, "%", sep = "")

# Genera el gr√°fico de barras
barplot(frec_absolutas,
        main = "Distribuci√≥n de los Diagn√≥stico de Hospitalizaci√≥n", # T√≠tulo del gr√°fico
        xlab = "Diagn√≥stico", # Etiqueta del eje X
        ylab = "Frecuencia Absoluta", # Etiqueta del eje Y
        col = "skyblue") # Color de las barras

pie(frec_absolutas,
    labels = etiquetas,
    main = "Distribuci√≥n de los Diagn√≥stico de Hospitalizaci√≥n",
    col = c("skyblue", "lightgreen", "lightcoral", "lightyellow"))
```

::: {style="margin-top: 1cm;"}
:::

#### `r fa("comments", fill = "#2c5697", height="1em", width="1em")` Seg√∫n los resultados obtenidos responda:

::: {style="margin-top: 0.5cm;"}
:::

```{r question-frec6, echo=FALSE, warning=FALSE, message=FALSE}

library(learnr)
library(dplyr)

question(
  "El diagn√≥stico de hospitalizaci√≥n m√°s frecuente fue:",
    answer("Gastroenteritis"),
    answer("Apendicitis"),
    answer("Neumon√≠a", correct = TRUE),
    answer("Gripe"),
  allow_retry = TRUE
)
```

## 4. Conclusiones

::: {style="margin-top: 0.5cm;"}
:::

En este taller, hemos explorado las medidas de resumen y visualizaci√≥n
gr√°fica para variables cualitativas utilizando R. Hemos aprendido a
calcular frecuencias absolutas, relativas y acumuladas, as√≠ como a
identificar la moda. Adem√°s, hemos creado gr√°ficos de barras simples y
agrupados, as√≠ como gr√°ficos de sectores para representar visualmente la
distribuci√≥n de las categor√≠as.

::: {style="margin-top: 0.5cm;"}
:::

Estas herramientas son fundamentales para el an√°lisis descriptivo de
datos cualitativos y nos permiten comprender mejor la informaci√≥n
contenida en nuestros conjuntos de datos.

::: {style="margin-top: 0.5cm;"}
:::

## 5. Recursos adicionales

::: {style="margin-top: 0.5cm;"}
:::

-   [R for Data Science](https://r4ds.had.co.nz/) - Un libro gratuito
    que cubre los conceptos b√°sicos de R y el an√°lisis de datos.
-   [R Documentation](https://www.rdocumentation.org/) - Documentaci√≥n
    oficial de R para funciones y paquetes.
-   [ggplot2 Documentation](https://ggplot2.tidyverse.org/) -
    Documentaci√≥n oficial de ggplot2, el paquete de R para crear
    gr√°ficos.

::: {style="margin-top: 0.5cm;"}
:::
